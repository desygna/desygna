---
slug: /migrating
title: Migrating to v4 (See API changes)
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import TOCInline from "@theme/TOCInline";

import StyledAPIV3 from "./styled-api-usage-v3.mdx";
import StyledAPIV4 from "./styled-api-usage-v4.mdx";

import ThemeDefinitionV4 from "./theme-definition-v4.mdx";
import ThemeCustomizationV4 from "./theme-customization-v4.mdx";
import ThemeTypesafetyV4 from "./theme-typesafety-v4.mdx";

import { ThemeTypesafetyV4Sandpack } from "./theme-typesafety-v4.tsx";

<TOCInline toc={toc} />

## Using v4-rc.1

First, you need to install peer dependencies:

```bash npm2yarn
npm install @emotion/react@^11.10.0 @emotion/styled@^11.10.0 styled-system@^5.1.5 @styled-system/should-forward-prop@^5.1.5
```

Install the package through `npm` or `yarn`:

_Only the core package is available as version 4.0.0-rc.1_

```bash npm2yarn
npm install @desygna/desygna-core@4.0.0-rc.1
```

## Improvements

### Type-safety on theme variables

You can define your theme as a type definition, which will allow you to create
components that are fully type-safe using your custom theme tokens. With this
approach, you only need to include a few files to achieve this functionality.

By having a theme.ts file that defines your custom theme and a desygna.d.ts file
that provides type definitions for the Desygna library, you can get typings in
your code editor (such as VS Code). This means that your editor will provide
autocomplete suggestions and type-checking for your custom theme properties,
making it easier and faster to write type-safe components.

<Tabs
  defaultValue="sandpack"
  values={[{ label: "v4-rc.1 example sandbox", value: "sandpack" }]}
>
  <TabItem value="sandpack">
    <ThemeTypesafetyV4Sandpack />
  </TabItem>
</Tabs>

---

## Additions

### `shouldForwardProp`

### `$animation` system utility

### `DesygnaGenericProp` type

### `DesygnaGenericBreakpointValues` type

---

## Deprecated

### `ResponsiveProp` type will be marked as deprecated

---

## Breaking Changes

### `DesygnaTheme` type scheme has changed

### `styled` has changed as `$styled`

:::caution An example usage of v4

<Tabs
  defaultValue="v4"
  values={[
    { label: "Desygna v3", value: "v3" },
    { label: "Desygna v4", value: "v4" }
  ]}
>
  <TabItem value="v3">
    <StyledAPIV3 />
  </TabItem>
  <TabItem value="v4">
    <StyledAPIV4 />
  </TabItem>
</Tabs>

:::

---

### `variant` has changed as `$variant`

### `compose` has changed as `$compose`

### `composeAll` has changed as `$composeAll`

### `css` has changed as `$css`

### `background` has changed as `$background`

### `border` has changed as `$border`

### `color` has changed as `$color`

### `cursor` has changed as `$cursor`

### `flexbox` has changed as `$flexbox`

### `grid` has changed as `$grid`

### `layout` has changed as `$layout`

### `position` has changed as `$position`

### `shadow` has changed as `$shadow`

### `space` has changed as `$space`

### `typography` has changed as `$typography`
